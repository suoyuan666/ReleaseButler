<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ReleaseButler: ReleaseButler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ReleaseButler<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">😙 package manager on GitHub 😙</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ReleaseButler </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p><a href="https://raw.githubusercontent.com/suoyuan666/tlog/master/LICENSE"><img src="https://img.shields.io/badge/license-GPL_2-blue.svg" alt="GPL v2 license" style="pointer-events: none;" class="inline"/></a></p>
<p><strike>当前项目仍在开发阶段，所以软件会输出很多不必要信息</strike>(现在添加了 <code>verbose</code> 这个 option)</p>
<p><strike>ReleaseButler 旨在简化Linux系统上的 Github 上的软件安装过程🤗。 它可以自动检测底层 Linux 发行版，从指定的 GitHub 项目主页获取对应的软件包并安装，同时也支持更新操作。</strike></p>
<p>目前我是想要实现一个类似 BSD 系“类 ports 系统”那样的东西，就像 Arch Linux 的 <a href="https://wiki.archlinux.org/title/Arch_build_system">ABS</a>，或者像是 Gentoo Linux 的 <a href="https://wiki.gentoo.org/wiki/Portage">protage</a>。目前想要的甚至还没 ABS 那么复杂，Gentoo Linux 那样标记 USE 变量更是想都没想了。</p>
<p>TODO:</p>
<ul class="check">
<<<<<<< HEAD
<li class="checked"><strike>使用JSON格式存储软件包的信息</strike></li>
</ul>
<ul class="check">
<li class="checked"><strike>使用<code>build</code>字段存储一些在install之后执行的工作</strike></li>
</ul>
<ul class="check">
<li class="checked"><strike>使用<code>install</code>字段存储一些install之前的准备工作</strike></li>
</ul>
<ul class="check">
<li class="checked"><strike>我想要实现成如果不提供软件包的名字的话就默认直接clone仓库，准备开始编译它</strike></li>
<li class="unchecked">想要在 GitHub 创建一个仓库存储软件包安装的json文件，这样用户可以直接 import 之后安装</li>
</ul>
<ul class="check">
<li class="checked">目前使用的是 sudo 安装软件，没做对当前软件的用户权限是否是非 root 用户，并且也没做对 sudo 的检测(准备实现成如果没有sudo就检测是否存在doas)</li>
<li class="unchecked">我想实现成支持很多软件(源码)分发平台，但目前就只是做了对 GitHub 的处理</li>
</ul>
<hr  />
<p><strike>⚠️: 你必须首先安装**sudo**而不是**open-doas**或是其他类似的软件，如果你不想强依赖于**sudo**可以选择修改源代码😀。或者我后续想起来会尝试添加对sudo或doas的检测。</strike> 我已经添加了对 <code>/usr/bin/sudo</code> 和 <code>/usr/bin/doas</code> 的检测。</p>
=======
<li class="unchecked">与 libapt-pkg 和 libdnf 等集成</li>
</ul>
<ul class="check">
<li class="unchecked">在 GitHub 创建一个仓库存储软件包安装的 json 文件，用户可以直接 import 之后安装<ul class="check">
<li class="unchecked">现在计划实现成 portage 的表现形式，即创建一个 Git 仓库，远端的 build 脚本都通过 <code>git clone --depth=1</code> 来更新，软件从这个文件夹去找到相关的 build 脚本。</li>
</ul>
</li>
</ul>
<ul class="check">
<li class="unchecked">支持更多的软件(源码)分发平台，但目前就只是做了对 GitHub 的处理</li>
</ul>
<hr  />
<p><strike>⚠️: 你必须首先安装**sudo**而不是**open-doas**或是其他类似的软件，如果你不想强依赖于**sudo**可以选择修改源代码😀。或者我后续想起来会尝试添加对sudo或doas的检测。</strike> 我已经添加了对 <code>sudo</code> 和 <code>doas</code> 的检测。</p>
>>>>>>> dev
<dl class="section note"><dt>Note</dt><dd><br  />
 我这里假设了 <code>sudo</code> 和 <code>doas</code> 会存在于 /usr/bin 目录下</dd></dl>
<hr  />
<h1><a class="anchor" id="autotoc_md3"></a>
特点:</h1>
<<<<<<< HEAD
<p><b>自动发行版检测：</b> ReleaseButler 确定运行环境的Linux发行版，确保与各种系统的兼容性。</p>
<p>**安装和更新**：使用单个命令轻松安装软件包。 ReleaseButler 支持更新，使您安装的软件保持最新。</p>
<p><b>尽量适配各种情况</b>: 尝试引入各种字段以适配各种仓库的安装步骤。</p>
=======
<p>**自动发行版检测**：ReleaseButler 确定运行环境的Linux发行版，确保与各种系统的兼容性。</p>
<p>**安装和更新**：使用单个命令轻松安装软件包。 ReleaseButler 支持更新，使您安装的软件保持最新。</p>
<p>**尽量适配各种情况**：尝试引入各种字段以适配各种仓库的安装步骤。</p>
>>>>>>> dev
<h1><a class="anchor" id="autotoc_md4"></a>
使用方法</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
安装软件:</h2>
<<<<<<< HEAD
<div class="fragment"><div class="line">$ releasebutler install --package &lt;name&gt; --pakname &lt;package name&gt; --from &lt;url&gt; [--verbose]</div>
</div><!-- fragment --><p><code>--package</code> 字段接受的是要安装的软件的名称，而 <code>packname</code> 字段是这个软件包名，例如 <code>fastfetch-linux-amd64.deb</code> 就是 <code>packname</code></p>
<p>从命令行安装尚未支持所有字段(如<code>install</code>，<code>build</code>等)。</p>
=======
<div class="fragment"><div class="line">$ releasebutler [--verbose] install --package &lt;name&gt; --packname &lt;package name&gt; --from &lt;url&gt;</div>
</div><!-- fragment --><p><code>--package</code> 字段接受的是要安装的软件的名称，而 <code>packname</code> 字段是这个软件包名，例如 <code>fastfetch-linux-amd64.deb</code> 就是 <code>packname</code></p>
<p>从命令行安装尚未支持所有字段（如 <code>install</code>，<code>build</code> 等）。</p>
>>>>>>> dev
<h2><a class="anchor" id="autotoc_md6"></a>
更新</h2>
<div class="fragment"><div class="line">$ relesebutler --update</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
解析外部引入的json文件</h2>
<div class="fragment"><div class="line">$ relesebutler --parse &lt;file name&gt;</div>
</div><!-- fragment --><p>note: 这个文件需要在 **~/.config/ReleaseButler/** 目录中</p>
<hr  />
<dl class="section note"><dt>Note</dt><dd>ReleaseButler 现在还不支持指定软件包的单独更新。🙃 <br  />
<br  />
 使用命令行安装的软件是记录在 **~/.config/ReleaseButler/info.json**，但是在更新的时候实际上会遍历 **~/.config/ReleaseButler/** 目录下的所有json文件。 <br  />
<br  />
 我尝试通过这种方式支持引入其他地方来的json文件。但文件名不能叫 **package.json**，这个文件用来记录已安装软件包的版本，遍历到了这个json文件也会跳过。</dd></dl>
<h2><a class="anchor" id="autotoc_md9"></a>
调试模式</h2>
<p>你可以附加 <code>--verbose</code> 得到更多的调试信息输出</p>
<div class="fragment"><div class="line">$ relesebutler --verbose</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md11"></a>
软件包信息文件的字段定义:</h1>
<div class="fragment"><div class="line">{</div>
<div class="line">   &quot;fastfetch&quot;: {</div>
<div class="line">      &quot;pakname&quot;: &quot;fastfetch-linux-amd64.deb&quot;,</div>
<<<<<<< HEAD
<div class="line">      &quot;url&quot;: &quot;https://github.com/fastfetch-cli/fastfetch&quot;,</div>
<div class="line">      &quot;version&quot;: &quot;2.13.2&quot;,</div>
=======
<div class="line">      &quot;sha256&quot;: &quot;5542cec5666645d5562a0c345d75cb6a828b914c5e0f53d8d0deee703667c75f&quot;,</div>
<div class="line">      &quot;url&quot;: &quot;https://github.com/fastfetch-cli/fastfetch&quot;,</div>
<div class="line">      &quot;version&quot;: &quot;2.32.1&quot;,</div>
>>>>>>> dev
<div class="line">      &quot;build&quot; : [</div>
<div class="line">         &quot;touch something&quot;,</div>
<div class="line">         &quot;touch haaa&quot;</div>
<div class="line">      ],</div>
<div class="line">      &quot;install&quot; : [</div>
<div class="line">         &quot;echo something &gt; something&quot;</div>
<div class="line">      ],</div>
<div class="line">      &quot;clone&quot;: false,</div>
<div class="line">      &quot;download&quot; : false</div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li><code>pakname</code> 是 Release 页面的软件包名称。</li>
<<<<<<< HEAD
=======
<li><code>sha256</code> 是该软件包的 SHA256 哈希值，非必需参数。</li>
>>>>>>> dev
<li><code>build</code> 用于存储一些软件下载前的要执行操作。</li>
<li><code>install</code> 用于存储一些软件安装后要执行的操作。</li>
<li><code>clone</code> 表示是否直接 clone 这个仓库。</li>
<li><code>download</code> 表示是否只是单纯在从Release下载了软件包，而不是下载了之后调用系统软件包管理器安装它。</li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
支持的Linux发行版</h1>
<ul>
<li>Debian/OpenSUSE</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md14"></a>
如何编译</h1>
<p>如果你在 Debian 发行版下编译该项目:</p>
<div class="fragment"><div class="line">$ sudo apt install libcurl4-openssl-dev clang cmake</div>
<div class="line">$ git clone https://github.com/suoyuan666/ReleaseButler.git</div>
<div class="line">$ cd ReleaseButler</div>
<div class="line">$ git submodule update --init --recursive</div>
<div class="line">$ cmake -B build -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">$ cmake --build build -j `nproc`</div>
</div><!-- fragment --><p>如果是在其他平台下编译，原谅我懒了，自己去寻找 libcurl4-openssl-dev 这个包对应其他发型版的软件包名吧。😛</p>
<p>我尝试在 OpenSUSE Tumbleweed 中编译这个项目，我是用了下边的语句安装了所需的软件</p>
<<<<<<< HEAD
<div class="fragment"><div class="line">$ sudo zypper install libcurl-devel clang18 llvm18-gold cmake</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
=======
<div class="fragment"><div class="line">$ sudo zypper install libcurl-devel clang cmake</div>
</div><!-- fragment --><p>该项目使用了：</p>
<ul>
<li><a href="https://curl.se/libcurl/">libcurl</a>：用于通过 URL 获取网页内容</li>
<li><a href="https://github.com/openssl/openssl">openssl</a>：使用了 libcrypto 提供的 SHA256 哈希算法</li>
<li><a href="https://github.com/p-ranav/argparse">p-ranav/argparse</a>：用于命令行参数的解析</li>
<li><a href="https://github.com/google/googletest">google/googletest</a>：用于对特定函数的测试</li>
<li><a href="https://github.com/nlohmann/json">nlohmann/json</a>：针对 JSON 文件格式的读取和写入</li>
<li><a href="https://github.com/suoyuan666/tlog">suoyuan666/tlog</a>：日志格式的信息输出 </li>
</ul>
</div></div><!-- PageDoc -->
>>>>>>> dev
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
